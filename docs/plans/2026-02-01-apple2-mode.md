# Apple ][ Mode Implementation Plan

> **For Claude:** REQUIRED SUB-SKILL: Use superpowers:executing-plans to implement this plan task-by-task.

**Goal:** Add a toggleable retro visual mode that reskins the game to match the original 1981 Apple II Sabotage aesthetic — black background, blocky sprites, original color scheme.

**Architecture:** A `retroMode` boolean property on the root Window, toggled by backtick key. All component files receive `retroMode` as a property and use ternary expressions to switch visual properties. The explosion model gains an `etype` field to distinguish helicopter vs trooper explosions (different retro styles). No gameplay values change.

**Tech Stack:** Pure QML — conditional visual properties only.

---

### Task 1: Add retroMode property and toggle key

**Files:**
- Modify: `main.qml`

**Step 1: Add the retroMode property**

After line 19 (`property int maxLanded: 4`), add:

```qml
    property bool retroMode: false
```

**Step 2: Add backtick key handler**

In the `Keys.onPressed` handler in `keyHandler` (main.qml), add at the very top of the function, before the gameOver check:

```qml
            if (event.key === Qt.Key_QuoteLeft) {
                retroMode = !retroMode
                event.accepted = true
                return
            }
```

So the handler becomes:
```qml
        Keys.onPressed: function(event) {
            if (event.key === Qt.Key_QuoteLeft) {
                retroMode = !retroMode
                event.accepted = true
                return
            }
            if (gameOver && event.key === Qt.Key_R) {
                restartGame()
                event.accepted = true
                return
            }
            if (!gameStarted && event.key === Qt.Key_Space) {
                gameStarted = true
                event.accepted = true
                return
            }
            if (gameOver) return
            if (event.key === Qt.Key_Left) turretControl.firingLeft = true
            if (event.key === Qt.Key_Right) turretControl.firingRight = true
            if (event.key === Qt.Key_Space && !event.isAutoRepeat) fireBullet()
        }
```

**Step 3: Manual test**

Run: `qml main.qml`
Verify: Press backtick — nothing visible changes yet, but no errors. Press it again — no errors. The property exists and toggles.

**Step 4: Commit**

```bash
git add main.qml
git commit -m "feat: add retroMode property and backtick toggle key"
```

---

### Task 2: Retro background — black sky, green ground line, no stars

**Files:**
- Modify: `main.qml`

**Step 1: Make window color respond to retroMode**

Change line 10 from:
```qml
    color: "#1a1a2e"
```
to:
```qml
    color: retroMode ? "#000000" : "#1a1a2e"
```

**Step 2: Hide sky gradient in retro mode**

Add `visible: !retroMode` to the sky gradient Rectangle (the one with `anchors.fill: parent` and the Gradient). Change it to:

```qml
    // Sky gradient
    Rectangle {
        anchors.fill: parent
        visible: !retroMode
        gradient: Gradient {
            GradientStop { position: 0.0; color: "#0f0c29" }
            GradientStop { position: 0.5; color: "#302b63" }
            GradientStop { position: 0.85; color: "#24243e" }
            GradientStop { position: 0.85; color: "#2d5016" }
            GradientStop { position: 1.0; color: "#1a3a0a" }
        }
    }
```

**Step 3: Hide stars in retro mode**

Add `visible: !retroMode` to each star Rectangle in the Stars Repeater. Change the Repeater delegate:

```qml
    // Stars
    Repeater {
        model: 60
        Rectangle {
            visible: !retroMode
            x: Math.random() * root.width
            y: Math.random() * root.height * 0.5
            width: Math.random() < 0.3 ? 2 : 1
            height: width
            color: Qt.rgba(1, 1, 1, 0.3 + Math.random() * 0.7)
            radius: width / 2
        }
    }
```

**Step 4: Make ground a green line in retro mode**

Change the ground Rectangle to show a bright green line in retro mode:

```qml
    // Ground
    Rectangle {
        id: ground
        x: 0; y: root.height * 0.85
        width: root.width
        height: retroMode ? 3 : root.height * 0.15
        color: retroMode ? "#00ff00" : "transparent"
    }
```

**Step 5: Manual test**

Run: `qml main.qml`
Verify: Press backtick — screen goes black with a bright green line at ground level. No stars, no gradient. Press backtick again — modern mode returns with gradient, stars, dark ground.

**Step 6: Commit**

```bash
git add main.qml
git commit -m "feat: retro background — black sky, green ground line, no stars"
```

---

### Task 3: Retro turret

**Files:**
- Modify: `Turret.qml`
- Modify: `main.qml` (pass retroMode and score to Turret)

**Step 1: Update Turret.qml**

Replace the entire file with:

```qml
import QtQuick

Item {
    id: turret
    property real angle: 0
    property real groundY: 0
    property bool retroMode: false
    property int score: 0

    // Modern base
    Rectangle {
        visible: !retroMode
        x: turret.width / 2 - 20; y: groundY - 10
        width: 40; height: 14
        color: "#888"
        radius: 3
        Rectangle {
            anchors.horizontalCenter: parent.horizontalCenter
            anchors.bottom: parent.top
            width: 20; height: 8
            color: "#aaa"
            radius: 4
        }
    }

    // Modern barrel
    Rectangle {
        visible: !retroMode
        x: turret.width / 2 - 2
        y: groundY - 48
        width: 4; height: 30
        color: "#ccc"
        antialiasing: true
        transformOrigin: Item.Bottom
        rotation: turret.angle
    }

    // Retro base — white platform with score
    Rectangle {
        visible: retroMode
        x: turret.width / 2 - 40; y: groundY - 20
        width: 80; height: 20
        color: "#ffffff"

        Text {
            anchors.centerIn: parent
            text: turret.score
            color: "#000000"
            font.pixelSize: 14; font.bold: true; font.family: "Courier"
        }
    }

    // Retro stepped structure (orange)
    Rectangle {
        visible: retroMode
        x: turret.width / 2 - 20; y: groundY - 36
        width: 40; height: 16
        color: "#cc6600"
    }
    Rectangle {
        visible: retroMode
        x: turret.width / 2 - 12; y: groundY - 48
        width: 24; height: 12
        color: "#cc6600"
    }

    // Retro barrel
    Rectangle {
        visible: retroMode
        x: turret.width / 2 - 2
        y: groundY - 78
        width: 4; height: 30
        color: "#ffffff"
        antialiasing: true
        transformOrigin: Item.Bottom
        rotation: turret.angle
    }
}
```

**Step 2: Pass retroMode and score to Turret in main.qml**

Change the Turret instantiation from:
```qml
    Turret {
        id: turret
        anchors.fill: parent
        angle: turretControl.angle
        groundY: root.height * 0.85
    }
```
to:
```qml
    Turret {
        id: turret
        anchors.fill: parent
        angle: turretControl.angle
        groundY: root.height * 0.85
        retroMode: root.retroMode
        score: root.score
    }
```

**Step 3: Manual test**

Run: `qml main.qml`
Verify: In modern mode — turret unchanged. Toggle retro — white base with score, orange stepped structure, white barrel. Barrel rotates correctly. Score updates on the base when you hit things.

**Step 4: Commit**

```bash
git add Turret.qml main.qml
git commit -m "feat: retro turret with white base, orange structure, score on base"
```

---

### Task 4: Retro helicopter

**Files:**
- Modify: `Helicopter.qml`
- Modify: `main.qml` (pass retroMode to Helicopter)

**Step 1: Update Helicopter.qml**

Replace the entire file with:

```qml
import QtQuick

Item {
    x: hx; y: hy
    visible: halive
    property bool retroMode: false

    // Body
    Rectangle {
        x: 0; y: 8; width: 40; height: 12
        color: retroMode ? "#ffffff" : hcolor
        radius: retroMode ? 0 : 6
    }
    // Cockpit
    Rectangle {
        x: hdir > 0 ? 32 : -2; y: 6; width: 10; height: 10
        color: retroMode ? "#ffffff" : "#88ccff"
        radius: retroMode ? 0 : 5
        opacity: retroMode ? 1.0 : 0.7
    }
    // Tail
    Rectangle {
        x: hdir > 0 ? -12 : 40; y: 5; width: 14; height: 4
        color: retroMode ? "#ffffff" : hcolor
    }
    Rectangle {
        x: hdir > 0 ? -14 : 50; y: 0; width: 4; height: 10
        color: retroMode ? "#ffffff" : hcolor
    }
    // Rotor
    Rectangle {
        x: 10; y: 6; width: 30; height: 2
        color: retroMode ? "#ffffff" : "#ddd"
        transformOrigin: Item.Center
        SequentialAnimation on rotation {
            loops: Animation.Infinite
            NumberAnimation { to: 180; duration: 100 }
            NumberAnimation { to: 360; duration: 100 }
        }
    }
}
```

**Step 2: Pass retroMode to Helicopter in main.qml**

Change the Helicopters Repeater from:
```qml
    // Helicopters
    Repeater {
        model: heliModel
        Helicopter {}
    }
```
to:
```qml
    // Helicopters
    Repeater {
        model: heliModel
        Helicopter { retroMode: root.retroMode }
    }
```

**Step 3: Manual test**

Run: `qml main.qml`
Verify: Modern mode — colored helis with rounded shapes. Retro mode — all white, blocky (no rounded corners), same size and position.

**Step 4: Commit**

```bash
git add Helicopter.qml main.qml
git commit -m "feat: retro helicopter — all white, blocky shapes"
```

---

### Task 5: Retro paratrooper

**Files:**
- Modify: `Paratrooper.qml`
- Modify: `main.qml` (pass retroMode to Paratrooper)

**Step 1: Update Paratrooper.qml**

Replace the entire file with:

```qml
import QtQuick

Item {
    x: tx; y: ty
    visible: talive
    property bool retroMode: false

    // Parachute
    Item {
        visible: tchute
        // Canopy
        Rectangle {
            x: -10; y: -28; width: 24; height: 14
            color: retroMode ? "#ffffff" : tcolor
            radius: retroMode ? 0 : 12
            opacity: retroMode ? 1.0 : 0.85
        }
        // Lines (hidden in retro mode)
        Canvas {
            visible: !retroMode
            x: -10; y: -16; width: 24; height: 18
            onPaint: {
                var ctx = getContext("2d")
                ctx.strokeStyle = "#aaa"
                ctx.lineWidth = 1
                ctx.beginPath()
                ctx.moveTo(0, 0); ctx.lineTo(12, 18)
                ctx.moveTo(12, 0); ctx.lineTo(12, 18)
                ctx.moveTo(24, 0); ctx.lineTo(12, 18)
                ctx.stroke()
            }
        }
        // Retro lines (single line from canopy center to body)
        Rectangle {
            visible: retroMode
            x: 1; y: -14; width: 1; height: 12
            color: "#ffffff"
        }
    }
    // Body (stick figure)
    Rectangle { x: 1; y: -4; width: 2; height: 8; color: retroMode ? tcolor : "#fff" }
    // Head
    Rectangle {
        x: -1; y: -8; width: 6; height: 5
        color: retroMode ? tcolor : "#fda"
        radius: retroMode ? 0 : 3
    }
    // Arms
    Rectangle { x: -4; y: -2; width: 12; height: 2; color: retroMode ? tcolor : "#fff" }
    // Legs
    Rectangle { x: -1; y: 4; width: 2; height: 6; color: retroMode ? tcolor : "#fff"; rotation: -15 }
    Rectangle { x: 3; y: 4; width: 2; height: 6; color: retroMode ? tcolor : "#fff"; rotation: 15 }
}
```

**Step 2: Pass retroMode to Paratrooper in main.qml**

Change the Paratroopers Repeater from:
```qml
    // Paratroopers
    Repeater {
        model: trooperModel
        Paratrooper {}
    }
```
to:
```qml
    // Paratroopers
    Repeater {
        model: trooperModel
        Paratrooper { retroMode: root.retroMode }
    }
```

**Step 3: Manual test**

Run: `qml main.qml`
Verify: Modern mode — colored chutes, white body, skin-colored head, canvas lines. Retro mode — white blocky chute, single white line, colored body (suit color), no rounded shapes.

**Step 4: Commit**

```bash
git add Paratrooper.qml main.qml
git commit -m "feat: retro paratrooper — white chute, colored suit, simplified lines"
```

---

### Task 6: Retro explosions (heli vs trooper)

**Files:**
- Modify: `Explosion.qml`
- Modify: `main.qml` (add etype to explosion model, pass retroMode to Explosion)

**Step 1: Add etype to spawnExplosion and call sites**

In `main.qml`, change the `spawnExplosion` function from:
```qml
    function spawnExplosion(x, y) {
        explosionSound.play()
        explosionModel.append({ ex: x, ey: y, eframe: 0 })
    }
```
to:
```qml
    function spawnExplosion(x, y, etype) {
        explosionSound.play()
        explosionModel.append({ ex: x, ey: y, eframe: 0, etype: etype || "trooper" })
    }
```

**Step 2: Update heli explosion call sites to pass "heli"**

In the game timer, find the helicopter collision section (the `spawnExplosion(heli.hx + 20, heli.hy + 10)` call) and change it to:
```qml
                        spawnExplosion(heli.hx + 20, heli.hy + 10, "heli")
```

The trooper body hit and splat calls remain unchanged (they'll get `"trooper"` default).

**Step 3: Update Explosion.qml**

Replace the entire file with:

```qml
import QtQuick

Item {
    x: ex; y: ey
    property bool retroMode: false

    // Modern explosion
    Repeater {
        model: !retroMode ? 8 : 0
        Rectangle {
            property real angle: index * 45 * Math.PI / 180
            property real dist: eframe * 3
            x: Math.cos(angle) * dist
            y: Math.sin(angle) * dist
            width: Math.max(1, 6 - eframe)
            height: width; radius: width/2
            color: eframe < 3 ? "#ffff00" : (eframe < 6 ? "#ff8800" : "#ff4400")
            opacity: Math.max(0, 1 - eframe / 10)
        }
    }

    // Retro heli explosion — colored debris, larger
    Repeater {
        model: retroMode && etype === "heli" ? 8 : 0
        Rectangle {
            property real angle: index * 45 * Math.PI / 180
            property real dist: eframe * 3.5
            property var colors: ["#ff6600", "#00cc00", "#cc0000", "#ff6600", "#ffffff", "#00cc00", "#cc0000", "#ffffff"]
            x: Math.cos(angle) * dist
            y: Math.sin(angle) * dist
            width: Math.max(2, 5 - eframe * 0.4)
            height: width
            color: colors[index]
            opacity: Math.max(0, 1 - eframe / 10)
        }
    }

    // Retro trooper explosion — white dots, smaller
    Repeater {
        model: retroMode && etype === "trooper" ? 6 : 0
        Rectangle {
            property real angle: index * 60 * Math.PI / 180
            property real dist: eframe * 2.5
            x: Math.cos(angle) * dist
            y: Math.sin(angle) * dist
            width: Math.max(1, 3 - eframe * 0.3)
            height: width
            color: "#ffffff"
            opacity: Math.max(0, 1 - eframe / 10)
        }
    }
}
```

**Step 4: Pass retroMode to Explosion in main.qml**

Change the Explosions Repeater from:
```qml
    // Explosions
    Repeater {
        model: explosionModel
        Explosion {}
    }
```
to:
```qml
    // Explosions
    Repeater {
        model: explosionModel
        Explosion { retroMode: root.retroMode }
    }
```

**Step 5: Manual test**

Run: `qml main.qml`
Verify: Modern mode — all explosions yellow/orange/red as before. Retro mode — shoot a helicopter → colored debris (orange, green, red, white). Shoot a trooper → white dots only, smaller.

**Step 6: Commit**

```bash
git add Explosion.qml main.qml
git commit -m "feat: retro explosions — colored debris for helis, white dots for troopers"
```

---

### Task 7: Retro bullets and landed troopers

**Files:**
- Modify: `main.qml`

**Step 1: Retro bullets**

Change the Bullets Repeater from:
```qml
    // Bullets
    Repeater {
        model: bulletModel
        Rectangle {
            x: bx - 2; y: by - 2
            width: 4; height: 4
            radius: 2
            color: "#ffff00"
            Rectangle {
                x: -1; y: -1
                width: 6; height: 6; radius: 3
                color: "transparent"
                border.color: "#ffaa00"
                border.width: 1
                opacity: 0.5
            }
        }
    }
```
to:
```qml
    // Bullets
    Repeater {
        model: bulletModel
        Rectangle {
            x: bx - 2; y: by - 2
            width: retroMode ? 3 : 4; height: retroMode ? 3 : 4
            radius: retroMode ? 0 : 2
            color: retroMode ? "#ffffff" : "#ffff00"
            Rectangle {
                visible: !retroMode
                x: -1; y: -1
                width: 6; height: 6; radius: 3
                color: "transparent"
                border.color: "#ffaa00"
                border.width: 1
                opacity: 0.5
            }
        }
    }
```

**Step 2: Retro landed troopers (left side)**

Change the left landed troopers Repeater from:
```qml
    // Landed troopers (left side)
    Repeater {
        model: landedLeft
        Item {
            x: root.width / 2 - 40 - index * 14
            y: root.height * 0.85 - 12
            Rectangle { x: 1; y: 0; width: 2; height: 8; color: "#fff" }
            Rectangle { x: -1; y: -4; width: 6; height: 5; color: "#fda"; radius: 3 }
            Rectangle { x: -3; y: 2; width: 10; height: 2; color: "#fff" }
            Rectangle { x: -1; y: 8; width: 2; height: 5; color: "#fff"; rotation: -10 }
            Rectangle { x: 3; y: 8; width: 2; height: 5; color: "#fff"; rotation: 10 }
        }
    }
```
to:
```qml
    // Landed troopers (left side)
    Repeater {
        model: landedLeft
        Item {
            x: root.width / 2 - 40 - index * 14
            y: root.height * 0.85 - 12
            // Modern
            Rectangle { visible: !retroMode; x: 1; y: 0; width: 2; height: 8; color: "#fff" }
            Rectangle { visible: !retroMode; x: -1; y: -4; width: 6; height: 5; color: "#fda"; radius: 3 }
            Rectangle { visible: !retroMode; x: -3; y: 2; width: 10; height: 2; color: "#fff" }
            Rectangle { visible: !retroMode; x: -1; y: 8; width: 2; height: 5; color: "#fff"; rotation: -10 }
            Rectangle { visible: !retroMode; x: 3; y: 8; width: 2; height: 5; color: "#fff"; rotation: 10 }
            // Retro — small colored block
            Rectangle { visible: retroMode; x: 0; y: 0; width: 6; height: 10; color: "#00cc00" }
        }
    }
```

**Step 3: Retro landed troopers (right side)**

Change the right landed troopers Repeater from:
```qml
    // Landed troopers (right side)
    Repeater {
        model: landedRight
        Item {
            x: root.width / 2 + 30 + index * 14
            y: root.height * 0.85 - 12
            Rectangle { x: 1; y: 0; width: 2; height: 8; color: "#fff" }
            Rectangle { x: -1; y: -4; width: 6; height: 5; color: "#fda"; radius: 3 }
            Rectangle { x: -3; y: 2; width: 10; height: 2; color: "#fff" }
            Rectangle { x: -1; y: 8; width: 2; height: 5; color: "#fff"; rotation: -10 }
            Rectangle { x: 3; y: 8; width: 2; height: 5; color: "#fff"; rotation: 10 }
        }
    }
```
to:
```qml
    // Landed troopers (right side)
    Repeater {
        model: landedRight
        Item {
            x: root.width / 2 + 30 + index * 14
            y: root.height * 0.85 - 12
            // Modern
            Rectangle { visible: !retroMode; x: 1; y: 0; width: 2; height: 8; color: "#fff" }
            Rectangle { visible: !retroMode; x: -1; y: -4; width: 6; height: 5; color: "#fda"; radius: 3 }
            Rectangle { visible: !retroMode; x: -3; y: 2; width: 10; height: 2; color: "#fff" }
            Rectangle { visible: !retroMode; x: -1; y: 8; width: 2; height: 5; color: "#fff"; rotation: -10 }
            Rectangle { visible: !retroMode; x: 3; y: 8; width: 2; height: 5; color: "#fff"; rotation: 10 }
            // Retro — small colored block
            Rectangle { visible: retroMode; x: 0; y: 0; width: 6; height: 10; color: "#00cc00" }
        }
    }
```

**Step 4: Manual test**

Run: `qml main.qml`
Verify: Modern mode — yellow bullets with glow, detailed landed troopers. Retro mode — small white bullet dot (no glow), landed troopers are small green blocks.

**Step 5: Commit**

```bash
git add main.qml
git commit -m "feat: retro bullets (white dot) and landed troopers (green blocks)"
```

---

### Task 8: Retro HUD and title/game-over screens

**Files:**
- Modify: `main.qml`

**Step 1: Hide modern HUD in retro mode**

Change the HUD score Text from:
```qml
    // HUD
    Text {
        x: 10; y: 10
        text: "SCORE: " + score
        color: "#0f0"; font.pixelSize: 20; font.bold: true
        font.family: "Courier"
    }
```
to:
```qml
    // HUD
    Text {
        visible: !retroMode
        x: 10; y: 10
        text: "SCORE: " + score
        color: "#0f0"; font.pixelSize: 20; font.bold: true
        font.family: "Courier"
    }
```

Change the HUD landed Text from:
```qml
    Text {
        x: root.width - 200; y: 10
        text: "LANDED: " + landedLeft + " | " + landedRight + " / " + maxLanded
        color: (landedLeft >= maxLanded - 1 || landedRight >= maxLanded - 1) ? "#f00" : "#ff0"
        font.pixelSize: 16; font.bold: true; font.family: "Courier"
    }
```
to:
```qml
    Text {
        visible: !retroMode
        x: root.width - 200; y: 10
        text: "LANDED: " + landedLeft + " | " + landedRight + " / " + maxLanded
        color: (landedLeft >= maxLanded - 1 || landedRight >= maxLanded - 1) ? "#f00" : "#ff0"
        font.pixelSize: 16; font.bold: true; font.family: "Courier"
    }
```

**Step 2: Retro title screen**

Replace the entire title screen Rectangle with:

```qml
    // Title screen
    Rectangle {
        anchors.fill: parent
        color: retroMode ? "#000000" : "#000000aa"
        visible: !gameStarted
        Column {
            anchors.centerIn: parent
            spacing: 20
            Text {
                anchors.horizontalCenter: parent.horizontalCenter
                text: "S A B O T A G E"
                color: retroMode ? "#ffffff" : "#ff4444"
                font.pixelSize: 48; font.bold: true; font.family: "Courier"
            }
            Text {
                anchors.horizontalCenter: parent.horizontalCenter
                text: "← → Aim    SPACE Fire"
                color: retroMode ? "#ffffff" : "#aaa"
                font.pixelSize: 18; font.family: "Courier"
            }
            Text {
                visible: !retroMode
                anchors.horizontalCenter: parent.horizontalCenter
                text: "Shoot helicopters & paratroopers!"
                color: "#888"
                font.pixelSize: 14; font.family: "Courier"
            }
            Text {
                visible: !retroMode
                anchors.horizontalCenter: parent.horizontalCenter
                text: "Don't let " + maxLanded + " troopers land on either side!"
                color: "#888"
                font.pixelSize: 14; font.family: "Courier"
            }
            Text {
                anchors.horizontalCenter: parent.horizontalCenter
                text: "[ PRESS SPACE TO START ]"
                color: "#fff"
                font.pixelSize: 22; font.family: "Courier"
                SequentialAnimation on opacity {
                    loops: Animation.Infinite
                    NumberAnimation { to: 0.3; duration: 800 }
                    NumberAnimation { to: 1.0; duration: 800 }
                }
            }
            Text {
                anchors.horizontalCenter: parent.horizontalCenter
                text: "` to toggle Apple ][ mode"
                color: retroMode ? "#888888" : "#666666"
                font.pixelSize: 12; font.family: "Courier"
            }
        }
    }
```

**Step 3: Retro game over screen**

Replace the entire game over screen Rectangle with:

```qml
    // Game over screen
    Rectangle {
        anchors.fill: parent
        color: retroMode ? "#000000" : "#000000cc"
        visible: gameOver
        Column {
            anchors.centerIn: parent
            spacing: 16
            Text {
                anchors.horizontalCenter: parent.horizontalCenter
                text: "GAME OVER"
                color: retroMode ? "#ffffff" : "#ff0000"
                font.pixelSize: 48; font.bold: true; font.family: "Courier"
                SequentialAnimation on opacity {
                    loops: Animation.Infinite
                    NumberAnimation { to: 0.4; duration: 500 }
                    NumberAnimation { to: 1.0; duration: 500 }
                }
            }
            Text {
                anchors.horizontalCenter: parent.horizontalCenter
                text: "FINAL SCORE: " + score
                color: "#0f0"
                font.pixelSize: 28; font.family: "Courier"
            }
            Text {
                visible: !retroMode
                anchors.horizontalCenter: parent.horizontalCenter
                text: "The paratroopers have overrun your position!"
                color: "#aaa"
                font.pixelSize: 16; font.family: "Courier"
            }
            Text {
                anchors.horizontalCenter: parent.horizontalCenter
                text: "[ PRESS R TO RESTART ]"
                color: "#fff"
                font.pixelSize: 20; font.family: "Courier"
                SequentialAnimation on opacity {
                    loops: Animation.Infinite
                    NumberAnimation { to: 0.3; duration: 800 }
                    NumberAnimation { to: 1.0; duration: 800 }
                }
            }
        }
    }
```

**Step 4: Manual test**

Run: `qml main.qml`
Verify:
1. Title screen modern — red title, overlay tint, flavor text, mode hint at bottom.
2. Toggle retro — black background, white title, no flavor text, mode hint visible.
3. Start game, play, trigger game over in both modes.
4. Game over modern — red GAME OVER, flavor text.
5. Game over retro — white GAME OVER, no flavor text.

**Step 5: Commit**

```bash
git add main.qml
git commit -m "feat: retro HUD, title screen, and game over screen"
```

---

### Task 9: Update CLAUDE.md

**Files:**
- Modify: `CLAUDE.md`

**Step 1: Update the roadmap**

Change:
```
3. **Apple ][ Mode** — Recreates the graphics of the original game (lo-res color palette, chunky pixels, black background).
```
to:
```
3. ~~**Apple ][ Mode**~~ ✓ Done — toggle with backtick key. Black background, green ground line, white blocky sprites, retro turret with score on base, dual explosion styles.
```

**Step 2: Commit**

```bash
git add CLAUDE.md
git commit -m "docs: update CLAUDE.md for Apple ][ mode feature"
```
